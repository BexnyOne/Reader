<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–Æ–Ω–∏–≤–µ—Ä—Å—É–º: –ö–Ω–∏–≥–∞ –í–µ—Ä—Å—É–º–∞</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
<style>
body {
  margin: 0;
  font-family: 'Georgia', serif;
  background: #f4f1ee;
  color: #333;
  transition: background 0.5s, color 0.5s;
  scroll-behavior: smooth;
}
.dark-theme {
  background: #121212;
  color: #e0e0e0;
}
.container {
  display: flex;
  justify-content: center;
  padding: 50px 20px;
}
.page {
  background: white;
  max-width: 800px;
  width: 100%;
  padding: 50px;
  box-shadow: 0 0 30px rgba(0,0,0,0.1);
  border-radius: 10px;
  animation: fadeIn 1.5s ease;
}
.dark-theme .page {
  background: #1e1e1e;
  box-shadow: 0 0 30px rgba(255,255,255,0.05);
}
h1, h2 {
  font-family: 'Playfair Display', serif;
  margin-top: 60px;
}
p {
  text-align: justify;
  line-height: 1.8;
  margin: 15px 0;
}
p::first-letter {
  float: left;
  font-size: 3em;
  line-height: 1;
  padding-right: 8px;
  font-weight: bold;
}
#menu-toggle {
  position: fixed;
  top: 20px;
  left: 20px;
  background: #007BFF;
  color: white;
  border: none;
  padding: 10px 15px;
  border-radius: 50%;
  font-size: 20px;
  cursor: pointer;
  z-index: 10000;
}
.dark-theme #menu-toggle {
  background: #BB86FC;
}
#sidebar {
  position: fixed;
  top: 80px;
  left: 20px;
  background: rgba(255,255,255,0.9);
  padding: 15px;
  border-radius: 10px;
  box-shadow: 0 0 15px rgba(0,0,0,0.2);
  max-height: 80vh;
  overflow-y: auto;
  transform: scale(0);
  transform-origin: top left;
  transition: transform 0.3s;
}
.dark-theme #sidebar {
  background: rgba(30,30,30,0.9);
}
#sidebar a {
  display: block;
  margin: 10px 0;
  text-decoration: none;
  color: inherit;
}
#sidebar.show {
  transform: scale(1);
}
#loader {
  position: fixed;
  top:0; left:0; width:100%; height:100%;
  background:#ffffff; color:#333;
  display:flex; align-items:center; justify-content:center;
  font-family:Georgia,serif; font-size:24px; z-index:9999;
  transition: opacity 0.5s ease;
}
.dark-theme #loader {
  background:#121212; color:#e0e0e0;
}
.fade-out {
  opacity: 0;
  pointer-events: none;
}
@keyframes fadeIn {
  from {opacity:0;}
  to {opacity:1;}
}
</style>
</head>
<body>
<div id="loader">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–Ω–∏–≥–∏...</div>
<button id="menu-toggle">üìö</button>
<div id="sidebar"></div>
<div class="container">
  <div class="page" id="content">
    <!-- –†–µ–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –∫–Ω–∏–≥–∏ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω —Å—é–¥–∞ -->
  </div>
</div>
<script>
document.getElementById('menu-toggle').onclick = function() {
  document.getElementById('sidebar').classList.toggle('show');
};
document.addEventListener('DOMContentLoaded', function() {
  setTimeout(() => {
    document.getElementById('loader').classList.add('fade-out');
  }, 500);
});

// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "T"
const toggleTheme = () => document.body.classList.toggle('dark-theme');
window.addEventListener('keydown', e => { if (e.key === "t") toggleTheme(); });

// –ó–∞–ø–æ–ª–Ω—è–µ–º –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
const chapters = [
  {id: "ch1", title: "–ì–ª–∞–≤–∞ 1. ¬´–î–∞ –∑–¥—Ä–∞–≤—Å—Ç–≤—É–µ—Ç –Ω–æ–≤—ã–π –¢–≤–æ—Ä–µ—Ü!¬ª"},
  {id: "ch2", title: "–ì–ª–∞–≤–∞ 2. –ê—Ä–∫–∞–Ω—É–º –∏ –ì–æ—Ä–Ω—ã–π –¥–≤–æ—Ä–µ—Ü"},
  {id: "ch3", title: "–ì–ª–∞–≤–∞ 3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä"},
  {id: "ch4", title: "–ì–ª–∞–≤–∞ 4. –†–∞–π—Å–∫–æ–µ –º–µ—Å—Ç–æ"},
  {id: "ch5", title: "–ì–ª–∞–≤–∞ 5. –ü–µ—Ä–≤—ã–µ –æ—Ç–≤–µ—Ç—ã"},
  {id: "ch6", title: "–ì–ª–∞–≤–∞ 6. –°–≤–µ—Ä—à–∏–ª–æ—Å—å!"},
  {id: "interlude1", title: "–ò–Ω—Ç–µ—Ä–ª—é–¥–∏—è 1"},
  {id: "ch7", title: "–ì–ª–∞–≤–∞ 7. –°–æ–Ω –∏–ª–∏ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å?"},
  {id: "ch8", title: "–ì–ª–∞–≤–∞ 8. ¬´–°–ª–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º!¬ª"},
  {id: "ch9", title: "–ì–ª–∞–≤–∞ 9. –¶–∏—Ñ—Ä–æ–≤–∞—è –≤—Å–µ–ª–µ–Ω–Ω–∞—è ¬´–°–µ—Ç—å¬ª"},
  {id: "ch10", title: "–ì–ª–∞–≤–∞ 10. –£–≥—Ä–æ–∑–∞ –∏–∑ –±—É–¥—É—â–µ–≥–æ"},
  {id: "ch11", title: "–ì–ª–∞–≤–∞ 11. –Æ–Ω–∏–≤–µ—Ä—Å—É–º"}
];

const sidebar = document.getElementById('sidebar');
const content = document.getElementById('content');
chapters.forEach(chapter => {
  const link = document.createElement('a');
  link.href = '#' + chapter.id;
  link.textContent = chapter.title;
  sidebar.appendChild(link);
  
  const heading = chapter.title.startsWith('–ò–Ω—Ç–µ—Ä–ª—é–¥–∏—è') ? document.createElement('h2') : document.createElement('h1');
  heading.id = chapter.id;
  heading.textContent = chapter.title;
  content.appendChild(heading);

  const p = document.createElement('p');
  p.textContent = "–†–µ–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è " + chapter.title + " –∑–¥–µ—Å—å... (—Å—é–¥–∞ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Ç–µ–∫—Å—Ç –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–π –∫–Ω–∏–≥–∏)";
  content.appendChild(p);
});
</script>
</body>
</html>
